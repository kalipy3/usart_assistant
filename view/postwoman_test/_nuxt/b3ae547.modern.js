(window.webpackJsonp=window.webpackJsonp||[]).push([[7,41,82],{588:function(e,t,n){"use strict";n.r(t);var o={props:{show:Boolean,title:{type:String,default:null},yes:{type:String,default(){return this.$t("yes")}},no:{type:String,default(){return this.$t("no")}}},mounted(){this._keyListener=function(e){"Escape"===e.key&&(e.preventDefault(),this.hideModal())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeDestroy(){document.removeEventListener("keydown",this._keyListener)},methods:{hideModal(){this.$emit("hide-modal")},resolve(){this.$emit("resolve")}}},r=n(12),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("SmartModal",{on:{close:e.hideModal}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"row-wrapper"},[n("h3",{staticClass:"title"},[e._v(e._s(e.$t("confirm")))]),e._v(" "),n("div",[n("button",{staticClass:"icon",on:{click:e.hideModal}},[n("i",{staticClass:"material-icons"},[e._v("close")])])])])]),e._v(" "),n("div",{staticClass:"flex flex-col",attrs:{slot:"body"},slot:"body"},[n("label",[e._v(e._s(e.title))])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"row-wrapper"},[n("span"),e._v(" "),n("span",[n("button",{staticClass:"icon",on:{click:e.hideModal}},[e._v("\n          "+e._s(e.no)+"\n        ")]),e._v(" "),n("button",{staticClass:"icon primary",on:{click:e.resolve}},[e._v("\n          "+e._s(e.yes)+"\n        ")])])])])]):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SmartModal:n(150).default})},595:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return M})),n.d(t,"u",(function(){return F})),n.d(t,"p",(function(){return J})),n.d(t,"n",(function(){return L})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return B})),n.d(t,"r",(function(){return W})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return G})),n.d(t,"o",(function(){return K})),n.d(t,"t",(function(){return X})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return te})),n.d(t,"b",(function(){return oe})),n.d(t,"s",(function(){return re})),n.d(t,"m",(function(){return le})),n.d(t,"l",(function(){return ce})),n.d(t,"k",(function(){return de})),n.d(t,"q",(function(){return pe})),n.d(t,"h",(function(){return ve}));var o,r,l,c,d,m,f,v,h,I,$,y,_,C,D,O,j,w,S,x,R,T=n(205),k=n(3),N=(n(18),n(20),n(69),n(83));n(304);function E(e,t){return e.mutate({mutation:Object(N.a)(o||(o=Object(T.a)(["\n      mutation ($name: String!) {\n        createTeam(name: $name) {\n          name\n        }\n      }\n    "]))),variables:{name:t}})}function M(e,t,n,o){return e.mutate({mutation:Object(N.a)(r||(r=Object(T.a)(["\n      mutation addTeamMemberByEmail(\n        $userRole: TeamMemberRole!\n        $userEmail: String!\n        $teamID: String!\n      ) {\n        addTeamMemberByEmail(\n          userRole: $userRole\n          userEmail: $userEmail\n          teamID: $teamID\n        ) {\n          role\n        }\n      }\n    "]))),variables:{userRole:t,userEmail:n,teamID:o}})}function F(e,t,n,o){return e.mutate({mutation:Object(N.a)(l||(l=Object(T.a)(["\n      mutation updateTeamMemberRole(\n        $newRole: TeamMemberRole!\n        $userUid: String!\n        $teamID: String!\n      ) {\n        updateTeamMemberRole(\n          newRole: $newRole\n          userUid: $userUid\n          teamID: $teamID\n        ) {\n          role\n        }\n      }\n    "]))),variables:{newRole:n,userUid:t,teamID:o}})}function J(e,t,n){return e.mutate({mutation:Object(N.a)(c||(c=Object(T.a)(["\n      mutation renameTeam($newName: String!, $teamID: String!) {\n        renameTeam(newName: $newName, teamID: $teamID) {\n          id\n        }\n      }\n    "]))),variables:{newName:t,teamID:n}})}function L(e,t,n){return e.mutate({mutation:Object(N.a)(d||(d=Object(T.a)(["\n      mutation removeTeamMember($userUid: String!, $teamID: String!) {\n        removeTeamMember(userUid: $userUid, teamID: $teamID)\n      }\n    "]))),variables:{userUid:t,teamID:n}})}function P(e,t){return U.apply(this,arguments)}function U(){return(U=Object(k.a)((function*(e,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(N.a)(f||(f=Object(T.a)(["\n        mutation ($teamID: String!) {\n          deleteTeam(teamID: $teamID)\n        }\n      "]))),variables:{teamID:t}})););return n}))).apply(this,arguments)}function B(e,t){e.mutate({mutation:Object(N.a)(m||(m=Object(T.a)(["\n      mutation ($teamID: String!) {\n        leaveTeam(teamID: $teamID)\n      }\n    "]))),variables:{teamID:t}})}function W(e,t){return V.apply(this,arguments)}function V(){return(V=Object(k.a)((function*(e,t){for(var n=[],cursor="";;){var o=yield e.query({query:Object(N.a)(v||(v=Object(T.a)(["\n        query rootCollectionsOfTeam($teamID: String!, $cursor: String!) {\n          rootCollectionsOfTeam(teamID: $teamID, cursor: $cursor) {\n            id\n            title\n          }\n        }\n      "]))),variables:{teamID:t,cursor:cursor},fetchPolicy:"no-cache"});if(0===o.data.rootCollectionsOfTeam.length)break;o.data.rootCollectionsOfTeam.forEach((e=>{n.push(e)})),cursor=n[n.length-1].id}return n}))).apply(this,arguments)}function A(e,t){return z.apply(this,arguments)}function z(){return(z=Object(k.a)((function*(e,t){var n=[];return(yield e.query({query:Object(N.a)(h||(h=Object(T.a)(["\n      query getCollectionChildren($collectionID: String!) {\n        collection(collectionID: $collectionID) {\n          children {\n            id\n            title\n          }\n        }\n      }\n    "]))),variables:{collectionID:t},fetchPolicy:"no-cache"})).data.collection.children.forEach((e=>{n.push(e)})),n}))).apply(this,arguments)}function G(e,t){return H.apply(this,arguments)}function H(){return(H=Object(k.a)((function*(e,t){for(var n=[],cursor="";;){var o=yield e.query({query:Object(N.a)(I||(I=Object(T.a)(["\n        query getCollectionRequests($collectionID: String!, $cursor: String) {\n          requestsInCollection(collectionID: $collectionID, cursor: $cursor) {\n            id\n            title\n            request\n          }\n        }\n      "]))),variables:{collectionID:t,cursor:cursor},fetchPolicy:"no-cache"});if(o.data.requestsInCollection.forEach((e=>{n.push(e)})),o.data.requestsInCollection.length<10)break;cursor=n[n.length-1].id}return n}))).apply(this,arguments)}function K(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=Object(k.a)((function*(e,title,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(N.a)($||($=Object(T.a)(["\n        mutation ($newTitle: String!, $collectionID: String!) {\n          renameCollection(newTitle: $newTitle, collectionID: $collectionID) {\n            id\n          }\n        }\n      "]))),variables:{newTitle:title,collectionID:t}})););return n}))).apply(this,arguments)}function X(e,t,n,o){return Y.apply(this,arguments)}function Y(){return(Y=Object(k.a)((function*(e,t,n,o){for(var r;void 0===(r=yield e.mutate({mutation:Object(N.a)(y||(y=Object(T.a)(["\n        mutation ($data: UpdateTeamRequestInput!, $requestID: String!) {\n          updateRequest(data: $data, requestID: $requestID) {\n            id\n          }\n        }\n      "]))),variables:{data:{request:JSON.stringify(t),title:n},requestID:o}})););return r}))).apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(k.a)((function*(e,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(N.a)(_||(_=Object(T.a)(["\n        mutation ($collectionID: String!) {\n          deleteCollection(collectionID: $collectionID)\n        }\n      "]))),variables:{collectionID:t}})););return n}))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(k.a)((function*(e,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(N.a)(C||(C=Object(T.a)(["\n        mutation ($requestID: String!) {\n          deleteRequest(requestID: $requestID)\n        }\n      "]))),variables:{requestID:t}})););return n}))).apply(this,arguments)}function oe(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(k.a)((function*(e,title,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(N.a)(D||(D=Object(T.a)(["\n        mutation ($title: String!, $teamID: String!) {\n          createRootCollection(title: $title, teamID: $teamID) {\n            id\n          }\n        }\n      "]))),variables:{title:title,teamID:t}})););return n}))).apply(this,arguments)}function re(e,t,n,o,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(k.a)((function*(e,t,title,n,o){yield e.mutate({mutation:Object(N.a)(O||(O=Object(T.a)(["\n      mutation ($data: CreateTeamRequestInput!, $collectionID: String!) {\n        createRequestInCollection(data: $data, collectionID: $collectionID) {\n          collection {\n            id\n            team {\n              id\n              name\n            }\n          }\n        }\n      }\n    "]))),variables:{collectionID:o,data:{teamID:n,title:title,request:t}}})}))).apply(this,arguments)}function le(e,t,n,o){return se.apply(this,arguments)}function se(){return(se=Object(k.a)((function*(e,t,title,n){yield e.mutate({mutation:Object(N.a)(j||(j=Object(T.a)(["\n      mutation updateRequest(\n        $data: UpdateTeamRequestInput!\n        $requestID: String!\n      ) {\n        updateRequest(data: $data, requestID: $requestID) {\n          id\n          title\n        }\n      }\n    "]))),variables:{requestID:n,data:{request:t,title:title}}})}))).apply(this,arguments)}function ce(e,t,n){return ue.apply(this,arguments)}function ue(){return(ue=Object(k.a)((function*(e,t,n){return null!=(yield e.mutate({mutation:Object(N.a)(w||(w=Object(T.a)(["\n      mutation importFromMyCollections(\n        $fbCollectionPath: String!\n        $teamID: String!\n      ) {\n        importCollectionFromUserFirestore(\n          fbCollectionPath: $fbCollectionPath\n          teamID: $teamID\n        ) {\n          id\n          title\n        }\n      }\n    "]))),variables:{fbCollectionPath:t,teamID:n}})).data}))).apply(this,arguments)}function de(e,t,n){return me.apply(this,arguments)}function me(){return(me=Object(k.a)((function*(e,t,n){return null!=(yield e.mutate({mutation:Object(N.a)(S||(S=Object(T.a)(["\n      mutation importFromJSON($jsonString: String!, $teamID: String!) {\n        importCollectionsFromJSON(jsonString: $jsonString, teamID: $teamID)\n      }\n    "]))),variables:{jsonString:JSON.stringify(t),teamID:n}})).data}))).apply(this,arguments)}function pe(e,t,n){return fe.apply(this,arguments)}function fe(){return(fe=Object(k.a)((function*(e,t,n){return null!=(yield e.mutate({mutation:Object(N.a)(x||(x=Object(T.a)(["\n      mutation replaceWithJSON($jsonString: String!, $teamID: String!) {\n        replaceCollectionsWithJSON(jsonString: $jsonString, teamID: $teamID)\n      }\n    "]))),variables:{jsonString:JSON.stringify(t),teamID:n}})).data}))).apply(this,arguments)}function ve(e,t){return he.apply(this,arguments)}function he(){return(he=Object(k.a)((function*(e,t){return(yield e.query({query:Object(N.a)(R||(R=Object(T.a)(["\n      query exportAsJSON($teamID: String!) {\n        exportCollectionsToJSON(teamID: $teamID)\n      }\n    "]))),variables:{teamID:t}})).data.exportCollectionsToJSON}))).apply(this,arguments)}},794:function(e,t,n){"use strict";n.r(t);var o={props:{request:{type:Object,default:()=>{}},collectionIndex:{type:Number,default:null},folderIndex:{type:Number,default:null},folderName:{type:String,default:null},requestIndex:[Number,String],doc:Boolean,saveRequest:Boolean,collectionsType:{type:Object,default:()=>{}},picked:{type:Object,default:()=>{}}},data:()=>({dragging:!1,requestMethodLabels:{get:"text-green-400",post:"text-yellow-400",put:"text-blue-400",delete:"text-red-400",default:"text-gray-400"},confirmRemove:!1}),computed:{isSelected(){return this.picked&&"teams-request"===this.picked.pickedType&&this.picked.requestID===this.requestIndex}},methods:{selectRequest(){this.$props.saveRequest?this.$emit("select",{picked:{pickedType:"teams-request",requestID:this.requestIndex}}):this.$store.commit("postwoman/selectRequest",{request:this.request})},removeRequest(){this.$emit("remove-request",{collectionIndex:this.$props.collectionIndex,folderName:this.$props.folderName,requestIndex:this.$props.requestIndex})},getRequestLabelColor(e){return this.requestMethodLabels[e.toLowerCase()]||this.requestMethodLabels.default}}},r=n(12),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"transition duration-150 ease-in-out row-wrapper"},[n("div",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.doc?"":e.$t("use_request"),expression:"!doc ? $t('use_request') : ''"}],staticClass:"icon",on:{click:function(t){e.doc||e.selectRequest()}}},[e.isSelected?n("i",{staticClass:"mx-3 text-green-400 material-icons"},[e._v("check_circle")]):n("span",{class:e.getRequestLabelColor(e.request.method)},[e._v(e._s(e.request.method))]),e._v(" "),n("span",[e._v(e._s(e.request.name))])])]),e._v(" "),e.saveRequest?e._e():n("v-popover",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("more"),expression:"$t('more')"}],staticClass:"tooltip-target icon"},[n("i",{staticClass:"material-icons"},[e._v("more_vert")])]):e._e(),e._v(" "),n("template",{slot:"popover"},[n("div",[n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(t){return e.$emit("edit-request",{collectionIndex:e.collectionIndex,folderIndex:e.folderIndex,folderName:e.folderName,request:e.request,requestIndex:e.requestIndex})}}},[n("i",{staticClass:"material-icons"},[e._v("edit")]),e._v(" "),n("span",[e._v(e._s(e.$t("edit")))])])]),e._v(" "),n("div",[n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(t){e.confirmRemove=!0}}},[n("i",{staticClass:"material-icons"},[e._v("delete")]),e._v(" "),n("span",[e._v(e._s(e.$t("delete")))])])])])],2)],1),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:e.$t("are_you_sure_remove_request")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeRequest}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SmartConfirmModal:n(588).default})},850:function(e,t,n){"use strict";n.r(t);var o=n(595),r={name:"Folder",props:{folder:{type:Object,default:()=>{}},folderIndex:{type:Number,default:null},collectionIndex:{type:Number,default:null},folderPath:{type:String,default:null},doc:Boolean,saveRequest:Boolean,isFiltered:Boolean,collectionsType:{type:Object,default:()=>{}},picked:{type:Object,default:()=>{}}},data:()=>({showChildren:!1,confirmRemove:!1,prevCursor:"",cursor:""}),computed:{isSelected(){return this.picked&&"teams-folder"===this.picked.pickedType&&this.picked.folderID===this.folder.id}},methods:{toggleShowChildren(){this.$props.saveRequest&&this.$emit("select",{picked:{pickedType:"teams-folder",folderID:this.folder.id}}),this.$emit("expand-collection",this.$props.folder.id),this.showChildren=!this.showChildren},removeFolder(){"VIEWER"!==this.collectionsType.selectedTeam.myRole&&(o.d(this.$apollo,this.folder.id).then((()=>{this.$toast.success(this.$t("deleted"),{icon:"delete"}),this.$emit("update-team-collections"),this.confirmRemove=!1})).catch((e=>{this.$toast.error(this.$t("error_occurred"),{icon:"done"}),console.error(e)})),this.$emit("update-team-collections"))},expandCollection(e){this.$emit("expand-collection",e)},removeRequest(e){var{collectionIndex:t,folderName:n,requestIndex:o}=e;this.$emit("remove-request",{collectionIndex:t,folderName:n,requestIndex:o})}}},l=n(12),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"transition duration-150 ease-in-out row-wrapper"},[n("div",[n("button",{staticClass:"icon",on:{click:e.toggleShowChildren}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.showChildren&&!e.isFiltered,expression:"!showChildren && !isFiltered"}],staticClass:"material-icons"},[e._v("arrow_right")]),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.showChildren||e.isFiltered,expression:"showChildren || isFiltered"}],staticClass:"material-icons"},[e._v("arrow_drop_down")]),e._v(" "),e.isSelected?n("i",{staticClass:"text-green-400 material-icons"},[e._v("check_circle")]):n("i",{staticClass:"material-icons"},[e._v("folder_open")]),e._v(" "),n("span",[e._v(e._s(e.folder.name?e.folder.name:e.folder.title))])])]),e._v(" "),e.saveRequest?e._e():n("v-popover",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:e.$t("more"),expression:"$t('more')",modifiers:{left:!0}}],staticClass:"tooltip-target icon"},[n("i",{staticClass:"material-icons"},[e._v("more_vert")])]):e._e(),e._v(" "),n("template",{slot:"popover"},[n("div",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(t){return e.$emit("add-folder",{folder:e.folder,path:e.folderPath})}}},[n("i",{staticClass:"material-icons"},[e._v("create_new_folder")]),e._v(" "),n("span",[e._v(e._s(e.$t("new_folder")))])]):e._e()]),e._v(" "),n("div",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(t){return e.$emit("edit-folder",{folder:e.folder,folderIndex:e.folderIndex,collectionIndex:e.collectionIndex,folderPath:""})}}},[n("i",{staticClass:"material-icons"},[e._v("edit")]),e._v(" "),n("span",[e._v(e._s(e.$t("edit")))])]):e._e()]),e._v(" "),n("div",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(t){e.confirmRemove=!0}}},[n("i",{staticClass:"material-icons"},[e._v("delete")]),e._v(" "),n("span",[e._v(e._s(e.$t("delete")))])]):e._e()])])],2)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showChildren||e.isFiltered,expression:"showChildren || isFiltered"}]},[n("ul",{staticClass:"flex-col"},e._l(e.folder.children,(function(t,o){return n("li",{key:t.name,staticClass:"ml-8 border-l border-brdColor"},[n("CollectionsTeamsFolder",{attrs:{folder:t,"folder-index":o,"collection-index":e.collectionIndex,doc:e.doc,"save-request":e.saveRequest,"collections-type":e.collectionsType,"folder-path":e.folderPath+"/"+o,picked:e.picked},on:{"add-folder":function(t){return e.$emit("add-folder",t)},"edit-folder":function(t){return e.$emit("edit-folder",t)},"edit-request":function(t){return e.$emit("edit-request",t)},"update-team-collections":function(t){return e.$emit("update-team-collections")},select:function(t){return e.$emit("select",t)},"expand-collection":e.expandCollection,"remove-request":e.removeRequest}})],1)})),0),e._v(" "),n("ul",{staticClass:"flex-col"},e._l(e.folder.requests,(function(t,o){return n("li",{key:o,staticClass:"flex ml-8 border-l border-brdColor"},[n("CollectionsTeamsRequest",{attrs:{request:t.request,"collection-index":e.collectionIndex,"folder-index":e.folderIndex,"folder-name":e.folder.name,"request-index":t.id,doc:e.doc,"save-request":e.saveRequest,"collections-type":e.collectionsType,picked:e.picked},on:{"edit-request":function(t){return e.$emit("edit-request",t)},select:function(t){return e.$emit("select",t)},"remove-request":e.removeRequest}})],1)})),0),e._v(" "),null!=e.folder.children&&0!==e.folder.children.length||null!=e.folder.requests&&0!==e.folder.requests.length?e._e():n("ul",[n("li",{staticClass:"flex ml-8 border-l border-brdColor"},[n("p",{staticClass:"info"},[n("i",{staticClass:"material-icons"},[e._v("not_interested")]),e._v("\n          "+e._s(e.$t("folder_empty"))+"\n        ")])])])]),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:e.$t("are_you_sure_remove_folder")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeFolder}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CollectionsTeamsFolder:n(850).default,CollectionsTeamsRequest:n(794).default,SmartConfirmModal:n(588).default})}}]);