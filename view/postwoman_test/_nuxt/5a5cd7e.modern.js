(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{701:function(t,e,n){var content=n(769);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("2d8916f6",content,!0,{sourceMap:!1})},768:function(t,e,n){"use strict";n(701)},769:function(t,e,n){var r=n(41)((function(i){return i[1]}));r.push([t.i,".VAR{font-weight:700;color:var(--ac-color)}.url-field-container{display:inline-grid}.url-field{border-style:dashed;border-color:var(--brd-color);white-space:nowrap;overflow-x:auto;resize:none}@media (min-width: 768px){.url-field{border-left-width:1px}}.url-field::-webkit-scrollbar{display:none}",""]),t.exports=r},831:function(t,e,n){"use strict";n.r(e);n(211),n(323),n(159),n(68),n(207),n(94);var r=n(760),l=n.n(r),h=n(762),o=n.n(h),c=n(767),d=n.n(c),f={"&":"&amp;","<":"&lt;",">":"&gt;"},v={props:{value:{type:String,default:""}},data:()=>({internalValue:"",htmlOutput:"",debouncedHandler:null,highlight:[{text:/(<<\w+>>)/g,style:"VAR"}],highlightEnabled:!0,highlightStyle:"",caseSensitive:!0,fireOn:"keydown",fireOnEnabled:!0}),watch:{highlightStyle(){this.processHighlights()},highlight(){this.processHighlights()},value(){this.internalValue!==this.value&&(this.internalValue=this.value,this.processHighlights())},highlightEnabled(){this.processHighlights()},caseSensitive(){this.processHighlights()},htmlOutput(){var t=this.saveSelection(this.$refs.editor);this.$refs.editor.innerHTML=this.htmlOutput,this.restoreSelection(this.$refs.editor,t)}},mounted(){this.fireOnEnabled&&this.$refs.editor.addEventListener(this.fireOn,this.handleChange),this.internalValue=this.value,this.processHighlights()},methods:{handleChange(){this.debouncedHandler=o()((function(){this.internalValue!==this.$refs.editor.textContent&&(this.internalValue=this.$refs.editor.textContent,this.processHighlights())}),5),this.debouncedHandler()},processHighlights(){var t=this;if(!this.highlightEnabled)return this.htmlOutput=this.internalValue,void this.$emit("input",this.internalValue);var e=new l.a,n=[],r=this.normalizedHighlights();if(r){for(var h=function(i){var n=r[i];if(n.text&&("string"==typeof n.text&&t.getIndicesOf(n.text,t.internalValue,d()(n.caseSensitive)?t.caseSensitive:n.caseSensitive).forEach((r=>{var l=r+n.text.length-1;t.insertRange(r,l,n,e)})),"[object RegExp]"===Object.prototype.toString.call(n.text)&&t.getRegexIndices(n.text,t.internalValue).forEach((r=>{t.insertRange(r.start,r.end,n,e)}))),void 0!==n.start&&void 0!==n.end&&n.start<n.end){var l=n.start,h=n.end-1;t.insertRange(l,h,n,e)}},i=0;i<r.length;i++)h(i);n=(n=e.search(0,this.internalValue.length)).sort(((a,b)=>a.start-b.start));for(var o="",c=0,f=0;f<n.length;f++){var v=n[f];o+=this.safe_tags_replace(this.internalValue.substring(c,v.start)),o+="<span class='"+n[f].style+"'>"+this.safe_tags_replace(this.internalValue.substring(v.start,v.end+1))+"</span>",c=v.end+1}c<this.internalValue.length&&(o+=this.safe_tags_replace(this.internalValue.substring(c,this.internalValue.length)))," "===o[o.length-1]&&(o=o.substring(0,o.length-1),o+="&nbsp;"),this.htmlOutput=o,this.$emit("input",this.internalValue)}},insertRange(t,e,n,r){var l=r.search(t,e),h=l.reduce(((t,e)=>Math.max(e.end-e.start,t)),0);0===l.length?r.insert(t,e,{start:t,end:e,style:n.style}):e-t>h&&(l.forEach((t=>{r.remove(t.start,t.end,t)})),r.insert(t,e,{start:t,end:e,style:n.style}))},normalizedHighlights(){if(null==this.highlight)return null;if("[object RegExp]"===Object.prototype.toString.call(this.highlight)||"string"==typeof this.highlight)return[{text:this.highlight}];if("[object Array]"===Object.prototype.toString.call(this.highlight)&&this.highlight.length>0){var t="string"==typeof this.highlightStyle?this.highlightStyle:Object.keys(this.highlightStyle).map((t=>t+":"+this.highlightStyle[t])).join(";")+";",e=this.highlight.filter((t=>t===Object.prototype.toString.call(t)==="[object RegExp]"));return this.highlight.filter((t=>t===Object.prototype.toString.call(t)!=="[object RegExp]")).map((e=>{if(e.text||"string"==typeof e)return{text:e.text||e,style:e.style||t,caseSensitive:e.caseSensitive};if(void 0!==e.start&&void 0!==e.end)return{style:e.style||t,start:e.start,end:e.end,caseSensitive:e.caseSensitive};throw new Error("Please provide a valid highlight object or string")})).sort(((a,b)=>a.text&&b.text?a.text>b.text:a.start===b.start?a.end<b.end:a.start<b.start)).concat(e)}return console.error("Expected a string or an array of strings"),null},safe_tags_replace(t){return t.replace(/[&<>]/g,this.replaceTag)},replaceTag:t=>f[t]||t,getRegexIndices(t,e){if(!t.global)return console.error("Expected "+t+" to be global"),[];t=RegExp(t);for(var n=[],r=null;null!=(r=t.exec(e));)n.push({start:r.index,end:r.index+r[0].length-1});return n},getIndicesOf(t,e,n){var r=t.length;if(0===r)return[];var l,h=0,o=[];for(n||(e=e.toLowerCase(),t=t.toLowerCase());(l=e.indexOf(t,h))>-1;)o.push(l),h=l+r;return o},saveSelection(t){var e;if(window.getSelection&&document.createRange){var n=window.getSelection();if(!n||0===n.rangeCount)return;var r=n.getRangeAt(0),l=r.cloneRange();return l.selectNodeContents(t),l.setEnd(r.startContainer,r.startOffset),{start:e=l.toString().length,end:e+r.toString().length}}if(document.selection){var h=document.selection.createRange(),o=document.body.createTextRange();return o.moveToElementText(t),o.setEndPoint("EndToStart",h),{start:e=o.text.length,end:e+h.text.length}}},restoreSelection(t,e){if(e)if(window.getSelection&&document.createRange){var n=0,r=document.createRange();r.setStart(t,0),r.collapse(!0);for(var l,h=[t],o=!1,c=!1;!c&&(l=h.pop());)if(3===l.nodeType){var d=n+l.length;!o&&e.start>=n&&e.start<=d&&(r.setStart(l,e.start-n),o=!0),o&&e.end>=n&&e.end<=d&&(r.setEnd(l,e.end-n),c=!0),n=d}else for(var i=l.childNodes.length;i--;)h.push(l.childNodes[i]);var f=window.getSelection();f.removeAllRanges(),f.addRange(r)}else if(document.selection){var v=document.body.createTextRange();v.moveToElementText(t),v.collapse(!0),v.moveEnd("character",e.end),v.moveStart("character",e.start),v.select()}}}},x=(n(768),n(12)),component=Object(x.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"url-field-container"},[e("div",{ref:"editor",staticClass:"url-field",attrs:{contenteditable:"true"}})])}),[],!1,null,null,null);e.default=component.exports}}]);