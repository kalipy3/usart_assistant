(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{659:function(e,t,n){"use strict";n(125);t.a=function(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}},789:function(e,t,n){var content=n(853);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(64).default)("471120a2",content,!0,{sourceMap:!1})},852:function(e,t,n){"use strict";n(789)},853:function(e,t,n){var r=n(63)((function(i){return i[1]}));r.push([e.i,".show-if-initialized.initialized[data-v-3895a59a]{opacity:1}.show-if-initialized>*[data-v-3895a59a]{transition-property:none}",""]),e.exports=r},895:function(e,t,n){"use strict";n.r(t);n(38),n(28),n(34),n(48),n(27),n(49);var r=n(15),o=(n(50),n(56),n(93),n(682)),c=n.n(o),l=(n(683),n(799),n(800),n(366)),h=n(642),d=n(1383),f=n(892);var m=n(659);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var v={props:{value:{type:String,default:""},theme:{type:String,required:!1,default:null},onRunGQLQuery:{type:Function,default:function(){}},options:{type:Object,default:function(){}},styles:{type:String,default:""}},data:function(){return{initialized:!1,editor:null,cacheValue:"",validationSchema:null}},watch:{value:function(e){e!==this.cacheValue&&(this.editor.session.setValue(e,1),this.cacheValue=e)},theme:function(){var e=this;this.initialized=!1,this.editor.setTheme("ace/theme/".concat(this.defineTheme()),(function(){e.$nextTick().then((function(){e.initialized=!0}))}))},options:function(e){this.editor.setOptions(e)}},mounted:function(){var e=this;!function(e){e.define("ace/mode/gql-query-highlight",["require","exports","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t){var n=e("ace/lib/oop"),r=e("ace/mode/text_highlight_rules").TextHighlightRules,o=function(){var e=/\\(?:u[\da-fA-f]{4}|.)/,t=this.createKeywordMapper({keyword:"type|interface|union|enum|schema|input|implements|extends|scalar|fragment|query|mutation|subscription","storage.type":"Int|Float|String|ID|Boolean","constant.language":"true|false|null"},"identifier");this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"paren.lparen",regex:/[[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:t,regex:"[a-zA-Z_][a-zA-Z0-9_$]*\\b"},{token:"string",regex:"'(?:".concat(e,"|.)?'")},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:e},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:"'",stateName:"singleQuoteString",next:[{token:"string",regex:/\\\s*$/,next:"singleQuoteString"},{token:"constant.language.escape",regex:e},{token:"string.end",regex:"'|$",next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/\d+\.?\d*[eE]?[+-]?\d*/},{token:"variable",regex:/\$[_A-Za-z][_0-9A-Za-z]*/}]},this.normalizeRules()};n.inherits(o,r),t.GQLQueryTextHighlightRules=o})),e.define("ace/mode/gql-query",["require","exports","ace/mode/text","ace/mode/gql-query-highlight"],(function(e,t){var n=e("ace/lib/oop"),r=e("ace/mode/text").Mode,o=e("ace/mode/gql-query-highlight").GQLQueryTextHighlightRules,c=e("ace/mode/folding/cstyle").FoldMode,l=function(){this.HighlightRules=o,this.foldingRules=new c};n.inherits(l,r),t.Mode=l}))}(c.a);var t=c.a.require("ace/ext/language_tools"),n=c.a.edit(this.$refs.editor,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({mode:"ace/mode/gql-query",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0},this.options));n.setTheme("ace/theme/".concat(this.defineTheme()),(function(){e.$nextTick().then((function(){e.initialized=!0}))})),n.setTheme("ace/theme/".concat(this.defineTheme()),(function(){e.$nextTick().then((function(){e.initialized=!0}))}));var o={getCompletions:function(t,n,r,o,c){var l=r.row,h=r.column;e.validationSchema?c(null,Object(f.a)(e.validationSchema,t.getValue(),{line:l,character:h}).map((function(e){var label=e.label;return{name:label,value:label,score:1,meta:e.detail}}))):c(null,[])}};t.setCompleters([o]),this.value&&n.setValue(this.value,1),this.editor=n,this.cacheValue=this.value,n.commands.addCommand({name:"runGQLQuery",exec:function(){return e.onRunGQLQuery(e.editor.getValue())},bindKey:{mac:"cmd-enter",win:"ctrl-enter"}}),n.commands.addCommand({name:"prettifyGQLQuery",exec:function(){return e.prettifyQuery()},bindKey:{mac:"cmd-p",win:"ctrl-p"}}),n.on("change",(function(){var content=n.getValue();e.$emit("input",content),e.parseContents(content),e.cacheValue=content})),this.parseContents(this.value)},beforeDestroy:function(){this.editor.destroy()},methods:{prettifyQuery:function(){try{this.$emit("update-query",l.print(h.a(this.editor.getValue())))}catch(e){this.$toast.error("".concat(this.$t("gql_prettify_invalid_query")),{icon:"error"})}},defineTheme:function(){if(this.theme)return this.theme;return window.getComputedStyle(document.documentElement).getPropertyValue("--editor-theme").replace(/#/g,"").replace(/ /g,"").replace(/"/g,"")},setValidationSchema:function(e){this.validationSchema=e,this.parseContents(this.cacheValue)},parseContents:Object(m.a)((function(content){if(""!==content)try{var e=h.a(content);this.validationSchema&&this.editor.session.setAnnotations(d.a(this.validationSchema,e).map((function(e){var t=e.locations,n=e.message;return{row:t[0].line-1,column:t[0].column-1,text:n,type:"error"}})))}catch(e){this.editor.session.setAnnotations([{row:e.locations[0].line-1,column:e.locations[0].column-1,text:e.message,type:"error"}])}else this.editor.session.setAnnotations([])}),2e3)}},x=(n(852),n(16)),component=Object(x.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"opacity-0 show-if-initialized",class:{initialized:e.initialized}},[n("pre",{ref:"editor",class:e.styles})])}),[],!1,null,"3895a59a",null);t.default=component.exports}}]);