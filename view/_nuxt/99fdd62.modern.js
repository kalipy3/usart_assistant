(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{595:function(t,e,n){"use strict";n.d(e,"c",(function(){return J})),n.d(e,"a",(function(){return M})),n.d(e,"u",(function(){return U})),n.d(e,"p",(function(){return W})),n.d(e,"n",(function(){return k})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return A})),n.d(e,"r",(function(){return B})),n.d(e,"i",(function(){return G})),n.d(e,"j",(function(){return K})),n.d(e,"o",(function(){return Q})),n.d(e,"t",(function(){return X})),n.d(e,"d",(function(){return Z})),n.d(e,"e",(function(){return et})),n.d(e,"b",(function(){return at})),n.d(e,"s",(function(){return ot})),n.d(e,"m",(function(){return ct})),n.d(e,"l",(function(){return st})),n.d(e,"k",(function(){return pt})),n.d(e,"q",(function(){return bt})),n.d(e,"h",(function(){return $t}));var r,o,c,l,m,d,f,v,$,I,D,y,O,h,j,S,C,R,_,w,T,N=n(205),x=n(3),E=(n(18),n(20),n(69),n(83));n(304);function J(t,e){return t.mutate({mutation:Object(E.a)(r||(r=Object(N.a)(["\n      mutation ($name: String!) {\n        createTeam(name: $name) {\n          name\n        }\n      }\n    "]))),variables:{name:e}})}function M(t,e,n,r){return t.mutate({mutation:Object(E.a)(o||(o=Object(N.a)(["\n      mutation addTeamMemberByEmail(\n        $userRole: TeamMemberRole!\n        $userEmail: String!\n        $teamID: String!\n      ) {\n        addTeamMemberByEmail(\n          userRole: $userRole\n          userEmail: $userEmail\n          teamID: $teamID\n        ) {\n          role\n        }\n      }\n    "]))),variables:{userRole:e,userEmail:n,teamID:r}})}function U(t,e,n,r){return t.mutate({mutation:Object(E.a)(c||(c=Object(N.a)(["\n      mutation updateTeamMemberRole(\n        $newRole: TeamMemberRole!\n        $userUid: String!\n        $teamID: String!\n      ) {\n        updateTeamMemberRole(\n          newRole: $newRole\n          userUid: $userUid\n          teamID: $teamID\n        ) {\n          role\n        }\n      }\n    "]))),variables:{newRole:n,userUid:e,teamID:r}})}function W(t,e,n){return t.mutate({mutation:Object(E.a)(l||(l=Object(N.a)(["\n      mutation renameTeam($newName: String!, $teamID: String!) {\n        renameTeam(newName: $newName, teamID: $teamID) {\n          id\n        }\n      }\n    "]))),variables:{newName:e,teamID:n}})}function k(t,e,n){return t.mutate({mutation:Object(E.a)(m||(m=Object(N.a)(["\n      mutation removeTeamMember($userUid: String!, $teamID: String!) {\n        removeTeamMember(userUid: $userUid, teamID: $teamID)\n      }\n    "]))),variables:{userUid:e,teamID:n}})}function P(t,e){return F.apply(this,arguments)}function F(){return(F=Object(x.a)((function*(t,e){for(var n;void 0===(n=yield t.mutate({mutation:Object(E.a)(f||(f=Object(N.a)(["\n        mutation ($teamID: String!) {\n          deleteTeam(teamID: $teamID)\n        }\n      "]))),variables:{teamID:e}})););return n}))).apply(this,arguments)}function A(t,e){t.mutate({mutation:Object(E.a)(d||(d=Object(N.a)(["\n      mutation ($teamID: String!) {\n        leaveTeam(teamID: $teamID)\n      }\n    "]))),variables:{teamID:e}})}function B(t,e){return z.apply(this,arguments)}function z(){return(z=Object(x.a)((function*(t,e){for(var n=[],cursor="";;){var r=yield t.query({query:Object(E.a)(v||(v=Object(N.a)(["\n        query rootCollectionsOfTeam($teamID: String!, $cursor: String!) {\n          rootCollectionsOfTeam(teamID: $teamID, cursor: $cursor) {\n            id\n            title\n          }\n        }\n      "]))),variables:{teamID:e,cursor:cursor},fetchPolicy:"no-cache"});if(0===r.data.rootCollectionsOfTeam.length)break;r.data.rootCollectionsOfTeam.forEach((t=>{n.push(t)})),cursor=n[n.length-1].id}return n}))).apply(this,arguments)}function G(t,e){return H.apply(this,arguments)}function H(){return(H=Object(x.a)((function*(t,e){var n=[];return(yield t.query({query:Object(E.a)($||($=Object(N.a)(["\n      query getCollectionChildren($collectionID: String!) {\n        collection(collectionID: $collectionID) {\n          children {\n            id\n            title\n          }\n        }\n      }\n    "]))),variables:{collectionID:e},fetchPolicy:"no-cache"})).data.collection.children.forEach((t=>{n.push(t)})),n}))).apply(this,arguments)}function K(t,e){return L.apply(this,arguments)}function L(){return(L=Object(x.a)((function*(t,e){for(var n=[],cursor="";;){var r=yield t.query({query:Object(E.a)(I||(I=Object(N.a)(["\n        query getCollectionRequests($collectionID: String!, $cursor: String) {\n          requestsInCollection(collectionID: $collectionID, cursor: $cursor) {\n            id\n            title\n            request\n          }\n        }\n      "]))),variables:{collectionID:e,cursor:cursor},fetchPolicy:"no-cache"});if(r.data.requestsInCollection.forEach((t=>{n.push(t)})),r.data.requestsInCollection.length<10)break;cursor=n[n.length-1].id}return n}))).apply(this,arguments)}function Q(t,e,n){return V.apply(this,arguments)}function V(){return(V=Object(x.a)((function*(t,title,e){for(var n;void 0===(n=yield t.mutate({mutation:Object(E.a)(D||(D=Object(N.a)(["\n        mutation ($newTitle: String!, $collectionID: String!) {\n          renameCollection(newTitle: $newTitle, collectionID: $collectionID) {\n            id\n          }\n        }\n      "]))),variables:{newTitle:title,collectionID:e}})););return n}))).apply(this,arguments)}function X(t,e,n,r){return Y.apply(this,arguments)}function Y(){return(Y=Object(x.a)((function*(t,e,n,r){for(var o;void 0===(o=yield t.mutate({mutation:Object(E.a)(y||(y=Object(N.a)(["\n        mutation ($data: UpdateTeamRequestInput!, $requestID: String!) {\n          updateRequest(data: $data, requestID: $requestID) {\n            id\n          }\n        }\n      "]))),variables:{data:{request:JSON.stringify(e),title:n},requestID:r}})););return o}))).apply(this,arguments)}function Z(t,e){return tt.apply(this,arguments)}function tt(){return(tt=Object(x.a)((function*(t,e){for(var n;void 0===(n=yield t.mutate({mutation:Object(E.a)(O||(O=Object(N.a)(["\n        mutation ($collectionID: String!) {\n          deleteCollection(collectionID: $collectionID)\n        }\n      "]))),variables:{collectionID:e}})););return n}))).apply(this,arguments)}function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=Object(x.a)((function*(t,e){for(var n;void 0===(n=yield t.mutate({mutation:Object(E.a)(h||(h=Object(N.a)(["\n        mutation ($requestID: String!) {\n          deleteRequest(requestID: $requestID)\n        }\n      "]))),variables:{requestID:e}})););return n}))).apply(this,arguments)}function at(t,e,n){return it.apply(this,arguments)}function it(){return(it=Object(x.a)((function*(t,title,e){for(var n;void 0===(n=yield t.mutate({mutation:Object(E.a)(j||(j=Object(N.a)(["\n        mutation ($title: String!, $teamID: String!) {\n          createRootCollection(title: $title, teamID: $teamID) {\n            id\n          }\n        }\n      "]))),variables:{title:title,teamID:e}})););return n}))).apply(this,arguments)}function ot(t,e,n,r,o){return ut.apply(this,arguments)}function ut(){return(ut=Object(x.a)((function*(t,e,title,n,r){yield t.mutate({mutation:Object(E.a)(S||(S=Object(N.a)(["\n      mutation ($data: CreateTeamRequestInput!, $collectionID: String!) {\n        createRequestInCollection(data: $data, collectionID: $collectionID) {\n          collection {\n            id\n            team {\n              id\n              name\n            }\n          }\n        }\n      }\n    "]))),variables:{collectionID:r,data:{teamID:n,title:title,request:e}}})}))).apply(this,arguments)}function ct(t,e,n,r){return lt.apply(this,arguments)}function lt(){return(lt=Object(x.a)((function*(t,e,title,n){yield t.mutate({mutation:Object(E.a)(C||(C=Object(N.a)(["\n      mutation updateRequest(\n        $data: UpdateTeamRequestInput!\n        $requestID: String!\n      ) {\n        updateRequest(data: $data, requestID: $requestID) {\n          id\n          title\n        }\n      }\n    "]))),variables:{requestID:n,data:{request:e,title:title}}})}))).apply(this,arguments)}function st(t,e,n){return mt.apply(this,arguments)}function mt(){return(mt=Object(x.a)((function*(t,e,n){return null!=(yield t.mutate({mutation:Object(E.a)(R||(R=Object(N.a)(["\n      mutation importFromMyCollections(\n        $fbCollectionPath: String!\n        $teamID: String!\n      ) {\n        importCollectionFromUserFirestore(\n          fbCollectionPath: $fbCollectionPath\n          teamID: $teamID\n        ) {\n          id\n          title\n        }\n      }\n    "]))),variables:{fbCollectionPath:e,teamID:n}})).data}))).apply(this,arguments)}function pt(t,e,n){return ft.apply(this,arguments)}function ft(){return(ft=Object(x.a)((function*(t,e,n){return null!=(yield t.mutate({mutation:Object(E.a)(_||(_=Object(N.a)(["\n      mutation importFromJSON($jsonString: String!, $teamID: String!) {\n        importCollectionsFromJSON(jsonString: $jsonString, teamID: $teamID)\n      }\n    "]))),variables:{jsonString:JSON.stringify(e),teamID:n}})).data}))).apply(this,arguments)}function bt(t,e,n){return vt.apply(this,arguments)}function vt(){return(vt=Object(x.a)((function*(t,e,n){return null!=(yield t.mutate({mutation:Object(E.a)(w||(w=Object(N.a)(["\n      mutation replaceWithJSON($jsonString: String!, $teamID: String!) {\n        replaceCollectionsWithJSON(jsonString: $jsonString, teamID: $teamID)\n      }\n    "]))),variables:{jsonString:JSON.stringify(e),teamID:n}})).data}))).apply(this,arguments)}function $t(t,e){return It.apply(this,arguments)}function It(){return(It=Object(x.a)((function*(t,e){return(yield t.query({query:Object(E.a)(T||(T=Object(N.a)(["\n      query exportAsJSON($teamID: String!) {\n        exportCollectionsToJSON(teamID: $teamID)\n      }\n    "]))),variables:{teamID:e}})).data.exportCollectionsToJSON}))).apply(this,arguments)}},660:function(t,e,n){var content=n(726);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("a1bb3ada",content,!0,{sourceMap:!1})},725:function(t,e,n){"use strict";n(660)},726:function(t,e,n){var r=n(41)((function(i){return i[1]}));r.push([t.i,"ul[data-v-44549aac]{flex-direction:column}ul[data-v-44549aac],ul li[data-v-44549aac]{display:flex}ul li[data-v-44549aac]{padding-left:16px;border-left:1px solid var(--brd-color)}",""]),t.exports=r},754:function(t,e,n){"use strict";n.r(e);var r=n(595),o={props:{team:{type:Object,default:()=>{}},teamID:{type:String,default:null}},methods:{deleteTeam(){confirm("Are you sure you want to remove this team?")&&r.f(this.$apollo,this.teamID).then((()=>{this.$toast.success(this.$t("new_team_created"),{icon:"done"})})).catch((t=>{this.$toast.error(this.$t("error_occurred"),{icon:"done"}),console.error(t)}))},exitTeam(){confirm("Are you sure you want to exit this team?")&&r.g(this.$apollo,this.teamID).then((()=>{this.$toast.success(this.$t("team_exited"),{icon:"done"})})).catch((t=>{this.$toast.error(this.$t("error_occurred"),{icon:"error"}),console.error(t)}))}}},c=(n(725),n(12)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-wrapper"},[n("div",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"OWNER"===t.team.myRole?t.$t("edit"):"",expression:"team.myRole === 'OWNER' ? $t('edit') : ''",modifiers:{right:!0}}],staticClass:"icon",on:{click:function(e){"OWNER"===t.team.myRole&&t.$emit("edit-team")}}},[n("i",{staticClass:"material-icons"},[t._v("group")]),t._v(" "),n("span",[t._v(t._s(t.team.name))])])]),t._v(" "),n("v-popover",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:t.$t("more"),expression:"$t('more')",modifiers:{left:!0}}],staticClass:"tooltip-target icon"},[n("i",{staticClass:"material-icons"},[t._v("more_vert")])]),t._v(" "),n("template",{slot:"popover"},["OWNER"===t.team.myRole?n("div",[n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.$emit("edit-team")}}},[n("i",{staticClass:"material-icons"},[t._v("create")]),t._v(" "),n("span",[t._v(t._s(t.$t("edit")))])])]):t._e(),t._v(" "),"OWNER"===t.team.myRole?n("div",[n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:t.deleteTeam}},[n("i",{staticClass:"material-icons"},[t._v("delete")]),t._v(" "),n("span",[t._v(t._s(t.$t("delete")))])])]):t._e(),t._v(" "),n("div",[n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",attrs:{disabled:"OWNER"===t.team.myRole&&1==t.team.ownersCount},on:{click:t.exitTeam}},[n("i",{staticClass:"material-icons"},[t._v("remove")]),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:"OWNER"===t.team.myRole&&1==t.team.ownersCount?t.$t("disable_exit"):""},expression:"{\n              content:\n                team.myRole === 'OWNER' && team.ownersCount == 1\n                  ? $t('disable_exit')\n                  : '',\n            }",modifiers:{left:!0}}]},[n("span",[t._v(t._s(t.$t("exit")))])])])])])],2)],1)}),[],!1,null,"44549aac",null);e.default=component.exports}}]);