(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{589:function(e,t,n){"use strict";t.a=(e,t)=>{var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((()=>e.apply(r,o)),t)}}},718:function(e,t,n){var content=n(786);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(42).default)("471120a2",content,!0,{sourceMap:!1})},785:function(e,t,n){"use strict";n(718)},786:function(e,t,n){var r=n(41)((function(i){return i[1]}));r.push([e.i,".show-if-initialized.initialized[data-v-3895a59a]{opacity:1}.show-if-initialized>*[data-v-3895a59a]{transition-property:none}",""]),e.exports=r},829:function(e,t,n){"use strict";n.r(t);var r=n(13),o=(n(68),n(609)),l=n.n(o),c=(n(610),n(731),n(732),n(311)),h=n(575),d=n(1315),m=n(826);var f=n(589);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var x={props:{value:{type:String,default:""},theme:{type:String,required:!1,default:null},onRunGQLQuery:{type:Function,default:()=>{}},options:{type:Object,default:()=>{}},styles:{type:String,default:""}},data:()=>({initialized:!1,editor:null,cacheValue:"",validationSchema:null}),watch:{value(e){e!==this.cacheValue&&(this.editor.session.setValue(e,1),this.cacheValue=e)},theme(){this.initialized=!1,this.editor.setTheme("ace/theme/".concat(this.defineTheme()),(()=>{this.$nextTick().then((()=>{this.initialized=!0}))}))},options(e){this.editor.setOptions(e)}},mounted(){!function(e){e.define("ace/mode/gql-query-highlight",["require","exports","ace/lib/oop","ace/mode/text_highlight_rules"],((e,t)=>{var n=e("ace/lib/oop"),r=e("ace/mode/text_highlight_rules").TextHighlightRules,o=function(){var e=/\\(?:u[\da-fA-f]{4}|.)/,t=this.createKeywordMapper({keyword:"type|interface|union|enum|schema|input|implements|extends|scalar|fragment|query|mutation|subscription","storage.type":"Int|Float|String|ID|Boolean","constant.language":"true|false|null"},"identifier");this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"paren.lparen",regex:/[[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:t,regex:"[a-zA-Z_][a-zA-Z0-9_$]*\\b"},{token:"string",regex:"'(?:".concat(e,"|.)?'")},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:e},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:"'",stateName:"singleQuoteString",next:[{token:"string",regex:/\\\s*$/,next:"singleQuoteString"},{token:"constant.language.escape",regex:e},{token:"string.end",regex:"'|$",next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/\d+\.?\d*[eE]?[+-]?\d*/},{token:"variable",regex:/\$[_A-Za-z][_0-9A-Za-z]*/}]},this.normalizeRules()};n.inherits(o,r),t.GQLQueryTextHighlightRules=o})),e.define("ace/mode/gql-query",["require","exports","ace/mode/text","ace/mode/gql-query-highlight"],((e,t)=>{var n=e("ace/lib/oop"),r=e("ace/mode/text").Mode,o=e("ace/mode/gql-query-highlight").GQLQueryTextHighlightRules,l=e("ace/mode/folding/cstyle").FoldMode,c=function(){this.HighlightRules=o,this.foldingRules=new l};n.inherits(c,r),t.Mode=c}))}(l.a);var e=l.a.require("ace/ext/language_tools"),t=l.a.edit(this.$refs.editor,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({mode:"ace/mode/gql-query",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0},this.options));t.setTheme("ace/theme/".concat(this.defineTheme()),(()=>{this.$nextTick().then((()=>{this.initialized=!0}))})),t.setTheme("ace/theme/".concat(this.defineTheme()),(()=>{this.$nextTick().then((()=>{this.initialized=!0}))}));var n={getCompletions:(e,t,n,r,o)=>{var{row:l,column:c}=n;this.validationSchema?o(null,Object(m.a)(this.validationSchema,e.getValue(),{line:l,character:c}).map((e=>{var{label:label,detail:t}=e;return{name:label,value:label,score:1,meta:t}}))):o(null,[])}};e.setCompleters([n]),this.value&&t.setValue(this.value,1),this.editor=t,this.cacheValue=this.value,t.commands.addCommand({name:"runGQLQuery",exec:()=>this.onRunGQLQuery(this.editor.getValue()),bindKey:{mac:"cmd-enter",win:"ctrl-enter"}}),t.commands.addCommand({name:"prettifyGQLQuery",exec:()=>this.prettifyQuery(),bindKey:{mac:"cmd-p",win:"ctrl-p"}}),t.on("change",(()=>{var content=t.getValue();this.$emit("input",content),this.parseContents(content),this.cacheValue=content})),this.parseContents(this.value)},beforeDestroy(){this.editor.destroy()},methods:{prettifyQuery(){try{this.$emit("update-query",c.print(h.a(this.editor.getValue())))}catch(e){this.$toast.error("".concat(this.$t("gql_prettify_invalid_query")),{icon:"error"})}},defineTheme(){if(this.theme)return this.theme;return window.getComputedStyle(document.documentElement).getPropertyValue("--editor-theme").replace(/#/g,"").replace(/ /g,"").replace(/"/g,"")},setValidationSchema(e){this.validationSchema=e,this.parseContents(this.cacheValue)},parseContents:Object(f.a)((function(content){if(""!==content)try{var e=h.a(content);this.validationSchema&&this.editor.session.setAnnotations(d.a(this.validationSchema,e).map((e=>{var{locations:t,message:n}=e;return{row:t[0].line-1,column:t[0].column-1,text:n,type:"error"}})))}catch(e){this.editor.session.setAnnotations([{row:e.locations[0].line-1,column:e.locations[0].column-1,text:e.message,type:"error"}])}else this.editor.session.setAnnotations([])}),2e3)}},v=(n(785),n(12)),component=Object(v.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"opacity-0 show-if-initialized",class:{initialized:e.initialized}},[n("pre",{ref:"editor",class:e.styles})])}),[],!1,null,"3895a59a",null);t.default=component.exports}}]);